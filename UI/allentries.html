<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MyDiary</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/switch.css">
    <link rel="stylesheet" type="text/css" href="css/mobileview.css">
    <link href="https://fonts.googleapis.com/css?family=Eczar:400,600" rel="stylesheet">
    <script src="js/mobileview.js"></script>

    <style>
        body {
            background-color: white;
            font-family: Arial, Helvetica, sans-serif;
        }

        .c {
            margin-right: 7%;
            float: right;
            margin-top: 2em;
            font-weight: bold;
            color: #202C45;
            text-shadow: 2px 2px #DDDDDD;
        }

        div.d {
            margin-top: 1.4%;
            float: right;
        }
    </style>
</head>

<body>

    <div class="wrapper">

        <div class="left">
            <ul>
                <li>
                    <a style="font-weight: bolder;color: wheat" id="mydiary">MyDiary</a>
                </li>
                <li>
                    <a style="font-weight: bolder;color: wheat" id="nav-icon1">
                        <span></span>
                        <span></span>
                        <span></span>
                    </a>
                </li>
                <li>
                    <a href="myindex.html" id="myhome">Home</a>
                </li>
            </ul>
        </div>

        <div class="right">
            <ul>
                <li>
                    <a href="login.html">Login</a>
                </li>
                <li>
                    <a href="signup.html">Signup</a>
                </li>

            </ul>
        </div>

    </div>

    <div>
        <div class="c">
            <img style=" height: 5em; width: 5em;" src="images/bulb.png">
            <div class="d" id="getText">No entry yet for today!</div>
        </div>
    </div>

    <p style="clear: both;"></p>

    <table id="clients">
        <tr>
            <th id="cjange">Name</th>
            <th>Entry Title</th>
            <th>Edit Entry</th>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Alfreds Futterkiste</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html"> day I will never forget</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Berglunds snabbköp</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">I am happy</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Centro comercial Moctezuma</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Treat</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Ernst Handel</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Chrismas</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Island Trading</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Joyful</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Königlich Essen</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">I am the best</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Laughing Bacchus Winecellars</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Someone like you</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Magazzini Alimentari Riuniti</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Stay safe</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">North/South</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Grow up</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a class="makeblack" href="lastentry.html">Paris spécialités</a>
            </td>
            <td>
                <a class="makeblack" href="lastentry.html">Special People</a>
            </td>
            <td>
                <a href="editentry.html">
                    <input type="button" class="button" value="Update" />
                </a>
            </td>
        </tr>
    </table>

</body>


<script>

   hamburger();

document.getElementById('getText').addEventListener('click', deleteEntry);
    
    function getEntries() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/entries', {
                method: "GET",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },
               // body: JSON.stringify({title: title, body: body})
            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               result.viewAll.forEach(viewAll => {
                //document.getElementById('showup').innerHTML += `${recipe.id} ${recipe.name}<br> ${recipe.description}<br><br>`;
                document.getElementById('cjange').innerHTML += `${viewAll.title}<br>`;
 });
           })
            .catch((err) => console.log(err))
        }

        function postEntries() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/entries', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },
               body: JSON.stringify({title: 'titleposttest', message: 'bodymessagetest'})
            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               result.forEach(result => {
                //document.getElementById('showup').innerHTML += `${recipe.id} ${recipe.name}<br> ${recipe.description}<br><br>`;
                //document.getElementById('cjange').innerHTML += `${viewAll.title}<br>`;
 });
           })
            .catch((err) => console.log(err))
        }

        function updateEntry() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/entries/101', {
                method: "PUT",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },
               body: JSON.stringify({title: 'titleposttestupdate', message: 'bodymessagetestupdate'})
            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               
           })
            .catch((err) => console.log(err))
        }

function getOneEntry() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/entries/101', {
                method: "GET",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },

            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               console.log(result.rowIndex);
           })
            .catch((err) => console.log(err))
        }


function deleteEntry() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/entries/101', {
                method: "DELETE",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },

            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               
           })
            .catch((err) => console.log(err))
        }




</script>

</html>