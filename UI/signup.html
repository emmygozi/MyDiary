<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MyDiary</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/mobileview.css">
    <script src="js/mobileview.js"></script>
    <script src="js/passwordvalidation.js"></script>


    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background: url(images/storybook.jpg);
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
        }
    
    </style>
</head>

<body>

    <div class="wrapper">

        <div class="left">
            <ul>
                <li>
                    <a style="font-weight: bolder;color: wheat" id="mydiary">MyDiary</a>
                </li>
                <li>
                    <a style="font-weight: bolder;color: wheat" id="nav-icon1">
                        <span></span>
                        <span></span>
                        <span></span>
                    </a>
                </li>
                <li>
                    <a href="index.html" id="myhome">Home</a>
                </li>
            </ul>
        </div>

        <div class="right">
            <ul>
                <li>
                    <a href="login.html">Login</a>
                </li>

            </ul>
        </div>

    </div>


    <div class="content">

        <div class="home">

            <form action="myindex.html">
                <div class="formcontainer">
                    <h2 style="margin-top: -4.5em;" id="getUser">Register</h2>
                    <label for="myname">
                        <b>Name</b>
                    </label>
                    <input type="text" placeholder="Enter Full Name" name="myname"  required>

                    <label for="email1">
                        <b>Email</b>
                    </label>
                    <input type="email" placeholder="Enter Email" name="email2" required>

                    <label for="pass1">
                        <b>Password</b>
                    </label>
                    <input type="password" placeholder="Enter Password" name="pass1" id="pas1" required>
                    <div id="matchP"></div>
                    <label for="pwrd-repeat">
                        <b>Confirm Password</b>
                    </label>
                    <input type="password" placeholder="Confirm Password" name="pwrd-repeat" id="pas2" required>

                    <button type="submit" id="submitid" disabled class="myregisterbtn">Register</button>
                </div>

            </form>

        </div>

    </div>
</body>

<script>

    hamburger();


    manipulate("pas1", "pas2", "submitid", "matchP");

    document.getElementById('getUser').addEventListener('click', signup);
    
    function signup() {
            const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTExLCJpYXQiOjE1MzMwNzMxMDksImV4cCI6MTUzMzE1OTUwOX0.ZtUUwfKBjw6bWqozZn3qqburUK_YfkO6f0ivak2lFCU';

            let headers = new Headers();
            fetch('https://mysterious-hamlet-72841.herokuapp.com/api/v1/auth/signup', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                headers: {
        
                    'Content-Type': 'application/json; charset=utf-8',
                    'x-auth-token': token
                },
               body: JSON.stringify({name: 'name1', email: 'email@fetch2.com', mypassword: '10293847'})
            })
           .then(response => response.json())
           .then(result => {
               console.log(result);
               var req = new XMLHttpRequest();
req.open('GET', document.location, false);
req.send(null);
var headers2 = req.getAllResponseHeaders().toLowerCase();
alert(headers2);
               result.viewAll.forEach(viewAll => {
                //document.getElementById('showup').innerHTML += `${recipe.id} ${recipe.name}<br> ${recipe.description}<br><br>`;
                //document.getElementById('cjange').innerHTML += `${viewAll.title}<br>`;
 });
           })
            .catch((err) => console.log(err))
        }



</script>


</html>